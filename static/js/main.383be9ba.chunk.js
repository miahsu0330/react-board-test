(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),i=e(9),o=e.n(i),a=e(4),u=e(2),s=e(3);function j(){var n=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n"]);return j=function(){return n},n}function d(){var n=Object(u.a)(["\n  color: red;\n"]);return d=function(){return n},n}function f(){var n=Object(u.a)([""]);return f=function(){return n},n}function b(){var n=Object(u.a)([""]);return b=function(){return n},n}function l(){var n=Object(u.a)([""]);return l=function(){return n},n}function h(){var n=Object(u.a)(["\n  display: flex;\n  aligin-items: center;\n"]);return h=function(){return n},n}function O(){var n=Object(u.a)(["\n  margin: 10px;\n  padding: 10px;\n  border: 1px solid #f5f5f5;\n"]);return O=function(){return n},n}function p(){var n=Object(u.a)(["\n  border-top: 1px solid #333;\n  margin-top: 20px;\n"]);return p=function(){return n},n}function m(){var n=Object(u.a)([""]);return m=function(){return n},n}function v(){var n=Object(u.a)(["\n  display: block;\n  width: 100%;\n  margin: 5px;\n"]);return v=function(){return n},n}function x(){var n=Object(u.a)([""]);return x=function(){return n},n}function g(){var n=Object(u.a)([""]);return g=function(){return n},n}function y(){var n=Object(u.a)(["\n  width: 500px;\n  margin: 0 auto;\n  border: 1px solid #f5f5f5;\n"]);return y=function(){return n},n}var S=s.a.div(y()),w=s.a.h1(g()),k=s.a.form(x()),J=s.a.textarea(v()),z=s.a.button(m()),A=s.a.div(p()),D=s.a.div(O()),E=s.a.div(h()),L=s.a.div(l()),_=s.a.div(b()),B=s.a.div(f());function C(n){var t=n.author,e=n.time,c=n.children;return Object(r.jsxs)(D,{children:[Object(r.jsxs)(E,{children:[Object(r.jsx)(L,{children:t}),Object(r.jsx)(_,{children:e})]}),Object(r.jsx)(B,{children:c})]})}var I=s.a.div(d()),N=s.a.div(j());var P=function(){var n=Object(c.useState)(null),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(null),u=Object(a.a)(o,2),s=u[0],j=u[1],d=Object(c.useState)(),f=Object(a.a)(d,2),b=f[0],l=f[1],h=Object(c.useState)(null),O=Object(a.a)(h,2),p=O[0],m=O[1],v=Object(c.useState)(!1),x=Object(a.a)(v,2),g=x[0],y=x[1],D=function(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){i(n)})).catch((function(n){j(n.message)}))};return Object(c.useEffect)((function(){D()}),[]),Object(r.jsxs)(S,{children:[g&&Object(r.jsx)(N,{children:"Loading...."}),Object(r.jsx)(w,{children:"\u7559\u8a00\u677f"}),Object(r.jsxs)(k,{onSubmit:function(n){n.preventDefault(),g||(y(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"hello",body:b})}).then((function(n){return n.json()})).then((function(n){0===n.ok&&m(n.message),D(),l(""),y(!1)})).catch((function(n){m(n.message),y(!1)})))},children:[Object(r.jsx)(J,{value:b,onChange:function(n){l(n.target.value)}}),Object(r.jsx)(z,{children:"\u9001\u51fa\u7559\u8a00"}),p&&Object(r.jsxs)(I,{children:["Somthing went wrong. ",p.toString()]})]}),s&&Object(r.jsxs)(I,{children:["Somthing went wrong. ",s.toString()]}),e&&0===e.length&&Object(r.jsx)("div",{children:"no message"}),Object(r.jsx)(A,{children:e&&e.map((function(n){return Object(r.jsx)(C,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})};o.a.render(Object(r.jsx)(P,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.383be9ba.chunk.js.map